function testWebP(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));let mySwiper=new Swiper(".gallery-slider",{loop:!0,navigation:{nextEl:".gallery-nav__arrow-next",prevEl:".gallery-nav__arrow-prev"}});$(document).ready((function(){$("main").hasClass("main")||$(".header,.header-burger").addClass("black"),$(".header-burger").click((function(){$(".header-burger").hasClass("active")&&$(".popup").hasClass("active")?$(".popup,.header,.header-burger").toggleClass("active"):$(".header-burger,.header-menu,.main-text").toggleClass("active"),$("body").toggleClass("lock")})),$("#call-action-header,#call-action-footer,.main-text__link").click((function(){$("body").toggleClass("lock"),$(".header,.popup,.header-burger,.header-action__link").toggleClass("active");let e=$(".header-action__link");$(".header").hasClass("active")?e.html("Закрыть"):e.html("Обратный звонок")})),$(".settings-fieldset__label").children("input").click((function(){$(this).parent().toggleClass("active"),$(this).parent().hasClass("active")?$(this).prop("checked",!0):$(this).prop("checked",!1)})),$("#flat-reset").click((function(){$(".settings-form fieldset label.active").toggleClass("active"),$(this).toggleClass("disabled"),$(".settings-form fieldset input:checked").prop("checked",!1)}));const e=e=>("text"===e.getAttribute("type")?e.value=e.value.replace(/\D/g,""):"tel"===e.getAttribute("type")&&(e.value=e.value.replace(/[a-zA-Z ]+/g,"")),e.value),t=({target:t})=>{t.value=e(t);let a=Array.from(document.querySelectorAll(".settings-fieldset input")),l=new Set(a.map(e=>{if(e.checked||"text"===e.getAttribute("type")&&e.value)return e}));l.forEach(e=>e?null:l.delete(e)),(e=>{let t=$(".settings-form__reset");e&&t.hasClass("disabled")?t.removeClass("disabled"):e||t.addClass("disabled")})(l.size>0)};document.querySelectorAll(".flat-table thead").forEach(e=>e.addEventListener("click",e=>(({target:e})=>{e.classList.toggle("active");const t=e.dataset.order=-(e.dataset.order||-1),a=[...e.parentNode.cells].indexOf(e),l=new Intl.Collator(["en","ru"],{numeric:!0}),r=(e,t)=>(a,r)=>t*l.compare(a.children[e].innerHTML,r.children[e].innerHTML);for(const l of e.closest("table").tBodies)l.append(...[...l.rows].sort(r(a,t)))})(e))),document.querySelectorAll(".settings-fieldset input").forEach(e=>{e.addEventListener("click",e=>t(e)),e.addEventListener("keyup",e=>t(e))}),document.querySelectorAll('.proposal-form__input[type="tel"],.popup-form__input[type="tel"]').forEach(t=>t.addEventListener("keyup",t=>e(t.target)))}));