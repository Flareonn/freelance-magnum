function testWebP(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));let mySwiper=new Swiper(".gallery-slider",{loop:!0,navigation:{nextEl:".gallery-nav__arrow-next",prevEl:".gallery-nav__arrow-prev"}});$(document).ready((function(){$(".header-burger").click((function(){$(".header-burger").hasClass("active")&&$(".popup").hasClass("active")?($(".popup").toggleClass("active"),$(".header").toggleClass("active"),$(".header-burger").toggleClass("active"),$("body").toggleClass("lock")):($(".header-burger,.header-menu").toggleClass("active"),$("body").toggleClass("lock"),$(".main-text").toggleClass("visible"))})),$("#call-action-header,#call-action-footer,.main-text__link").click((function(){$(".header-burger").toggleClass("active"),$("body").toggleClass("lock"),$(".popup").toggleClass("active"),$(".header").toggleClass("active");let e=$(".header-action__link");e.toggleClass("active"),$(".header").hasClass("active")?e.html("Закрыть"):e.html("Обратный звонок")})),$(".settings-fieldset__label").children("input").click((function(){$(this).parent().toggleClass("active"),$(this).parent().hasClass("active")?$(this).prop("checked",!0):$(this).prop("checked",!1)})),$("#flat-reset").click((function(){$(".settings-form fieldset label.active").toggleClass("active"),$(this).toggleClass("disabled"),$(".settings-form fieldset input:checked").prop("checked",!1)}));const e=e=>("text"===e.getAttribute("type")?e.value=e.value.replace(/\D/g,""):"tel"===e.getAttribute("type")&&(e.value=e.value.replace(/[a-zA-Z ]+/g,"")),e.value),t=({target:t})=>{t.value=e(t);let l=Array.from(document.querySelectorAll(".settings-fieldset input")),a=new Set(l.map(e=>{if(e.checked||"text"===e.getAttribute("type")&&e.value)return e}));a.forEach(e=>e?null:a.delete(e)),(e=>{let t=$(".settings-form__reset");e&&t.hasClass("disabled")?t.removeClass("disabled"):e||t.addClass("disabled")})(a.size>0)};document.querySelectorAll(".flat-table thead").forEach(e=>e.addEventListener("click",e=>(({target:e})=>{e.classList.toggle("active");const t=e.dataset.order=-(e.dataset.order||-1),l=[...e.parentNode.cells].indexOf(e),a=new Intl.Collator(["en","ru"],{numeric:!0}),s=(e,t)=>(l,s)=>t*a.compare(l.children[e].innerHTML,s.children[e].innerHTML);for(const a of e.closest("table").tBodies)a.append(...[...a.rows].sort(s(l,t)))})(e))),document.querySelectorAll(".settings-fieldset input").forEach(e=>{e.addEventListener("click",e=>t(e)),e.addEventListener("keyup",e=>t(e))}),document.querySelectorAll('.proposal-form__input[type="tel"],.popup-form__input[type="tel"]').forEach(t=>t.addEventListener("keyup",t=>e(t.target)))}));